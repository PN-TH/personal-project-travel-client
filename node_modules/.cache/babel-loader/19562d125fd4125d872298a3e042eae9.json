{"ast":null,"code":"var _jsxFileName = \"/home/thomas/Project/React/react-website-v1/src/components/pages/SignUp.js\";\nimport React from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { joiResolver } from '@hookform/resolvers/joi';\nimport Joi from 'joi';\nimport PhoneInput from 'react-phone-input-2';\nimport 'react-phone-input-2/lib/material.css';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { useToasts } from 'react-toast-notifications';\nimport { useHistory } from 'react-router-dom';\nimport API from '../../services/API';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginBottom: '50px'\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    background: 'white',\n    padding: '13px',\n    border: '1px solid  #bdc3c7',\n    borderRadius: '5px'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#5ebbea'\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    '&:hover': {\n      backgroundColor: '#096490',\n      color: 'white'\n    },\n    margin: theme.spacing(3, 0, 2),\n    background: '#5ebbea'\n  }\n}));\n\nconst SignUp = () => {\n  const classes = useStyles();\n  const {\n    addToast\n  } = useToasts();\n  const schema = Joi.object({\n    firstname: Joi.string().max(50).required(),\n    lastname: Joi.string().max(50).required(),\n    phone_number: Joi.string().pattern(new RegExp(/^[0-9]?()[0-9](\\s|\\S)(\\d[0-9]{0,})$/)),\n    email: Joi.string().required().pattern(new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)),\n    password: Joi.string().required().pattern(new RegExp(/^(?=.{6,}$)(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*\\W).*$/)),\n    password_confirmation: Joi.ref('password')\n  }).with('password', 'password_confirmation');\n  const {\n    control,\n    errors,\n    register,\n    handleSubmit\n  } = useForm({\n    resolver: joiResolver(schema),\n    mode: 'onBlur'\n  });\n  const history = useHistory();\n\n  const handleRedirect = () => {\n    history.push('/signIn');\n  };\n\n  const submitUserData = async data => {\n    console.log(data);\n\n    try {\n      await API.post('/users/signUp', data);\n      addToast('Bienvenue sur LAfricamobile !', {\n        appearance: 'success',\n        autoDismiss: true\n      });\n      handleRedirect();\n    } catch {\n      addToast(\"L'inscription a echouée !\", {\n        appearance: 'error',\n        autoDismiss: true\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: classes.root,\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LockOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, \"S'enregistrer\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    onSubmit: handleSubmit(submitUserData),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    autoComplete: \"fname\",\n    name: \"firstname\",\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"firstname\",\n    label: \"Pr\\xE9nom\",\n    autoFocus: true,\n    inputRef: register,\n    error: !!errors.firstname,\n    helperText: errors.firstname && 'Un prénom est obligatoire',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"lastname\",\n    label: \"Nom\",\n    name: \"lastname\",\n    autoComplete: \"lname\",\n    inputRef: register,\n    helperText: errors.lastname && 'Un nom est obligatoire',\n    error: !!errors.lastname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    render: props => /*#__PURE__*/React.createElement(PhoneInput, {\n      regions: ['europe', 'africa'],\n      masks: {\n        fr: '. .. .. .. ..',\n        sn: '.. ... ....',\n        cg: '... .. ..'\n      },\n      isValid: v => v.length > 5,\n      placeholder: \"Num\\xE9ro de t\\xE9l\\xE9phone\",\n      inputRef: register,\n      inputStyle: {\n        width: '100%',\n        height: '56px',\n        fontSize: '15px',\n        paddingLeft: '60px',\n        borderRadius: '5px'\n      },\n      inputProps: {\n        name: 'phone_number',\n        required: true\n      },\n      id: \"phone_number\",\n      specialLabel: \"Telephone\",\n      name: \"phone_number\",\n      autoComplete: \"phone_number\",\n      onChange: value => props.onChange(value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 19\n      }\n    }),\n    defaultValue: \"\",\n    name: \"phone_number\",\n    control: control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"email\",\n    label: \"Adresse e-mail\",\n    name: \"email\",\n    autoComplete: \"email\",\n    inputRef: register,\n    error: !!errors.email,\n    helperText: errors.email && 'Adresse email invalide',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Mot de passe\",\n    type: \"password\",\n    id: \"password\",\n    autoComplete: \"current-password\",\n    inputRef: register,\n    error: !!errors.password,\n    helperText: errors.password && \"Votre mot de passe doit être d'au moins 6 caractères et doit contenir un chiffre, un caractère majuscule, un caractère minuscule et un caractère spécial\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    name: \"password_confirmation\",\n    label: \"Confirmation du mot de passe\",\n    type: \"password\",\n    id: \"password_confirmation\",\n    autoComplete: \"current-password\",\n    inputRef: register,\n    error: !!errors.password_confirmation,\n    helperText: errors.password_confirmation && 'Le mot de passe et la confirmation ne sont pas identiques',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 11\n    }\n  }, \"S'enregistrer\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    justify: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"MuiGrid-container-signUp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    href: \"/signIn\",\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 17\n    }\n  }, \"Vous avez d\\xE9ja un compte ? Connectez-vous !\")))))));\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/home/thomas/Project/React/react-website-v1/src/components/pages/SignUp.js"],"names":["React","useForm","Controller","joiResolver","Joi","PhoneInput","Avatar","Button","CssBaseline","TextField","Link","Grid","LockOutlinedIcon","Typography","makeStyles","Container","useToasts","useHistory","API","useStyles","theme","root","marginBottom","paper","marginTop","spacing","display","flexDirection","alignItems","background","padding","border","borderRadius","avatar","margin","backgroundColor","form","width","submit","color","SignUp","classes","addToast","schema","object","firstname","string","max","required","lastname","phone_number","pattern","RegExp","email","password","password_confirmation","ref","with","control","errors","register","handleSubmit","resolver","mode","history","handleRedirect","push","submitUserData","data","console","log","post","appearance","autoDismiss","props","fr","sn","cg","v","length","height","fontSize","paddingLeft","name","value","onChange"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { useForm, Controller } from 'react-hook-form';\nimport { joiResolver } from '@hookform/resolvers/joi';\nimport Joi from 'joi';\nimport PhoneInput from 'react-phone-input-2';\nimport 'react-phone-input-2/lib/material.css';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { useToasts } from 'react-toast-notifications';\nimport { useHistory } from 'react-router-dom';\n\nimport API from '../../services/API';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: '50px',\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    background: 'white',\n    padding: '13px',\n    border: '1px solid  #bdc3c7',\n    borderRadius: '5px',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: '#5ebbea',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    '&:hover': {\n      backgroundColor: '#096490',\n      color: 'white',\n    },\n    margin: theme.spacing(3, 0, 2),\n    background: '#5ebbea',\n  },\n}));\n\nconst SignUp = () => {\n  const classes = useStyles();\n\n  const { addToast } = useToasts();\n\n  const schema = Joi.object({\n    firstname: Joi.string().max(50).required(),\n    lastname: Joi.string().max(50).required(),\n    phone_number: Joi.string().pattern(\n      new RegExp(/^[0-9]?()[0-9](\\s|\\S)(\\d[0-9]{0,})$/)\n    ),\n    email: Joi.string()\n      .required()\n      .pattern(\n        new RegExp(\n          /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n        )\n      ),\n    password: Joi.string()\n      .required()\n      .pattern(\n        new RegExp(/^(?=.{6,}$)(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*\\W).*$/)\n      ),\n    password_confirmation: Joi.ref('password'),\n  }).with('password', 'password_confirmation');\n\n  const { control, errors, register, handleSubmit } = useForm({\n    resolver: joiResolver(schema),\n    mode: 'onBlur',\n  });\n\n  const history = useHistory();\n\n  const handleRedirect = () => {\n    history.push('/signIn');\n  };\n\n  const submitUserData = async (data) => {\n    console.log(data);\n    try {\n      await API.post('/users/signUp', data);\n      addToast('Bienvenue sur LAfricamobile !', {\n        appearance: 'success',\n        autoDismiss: true,\n      });\n      handleRedirect();\n    } catch {\n      addToast(\"L'inscription a echouée !\", {\n        appearance: 'error',\n        autoDismiss: true,\n      });\n    }\n  };\n\n  return (\n    <Container className={classes.root} component='main' maxWidth='xs'>\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component='h1' variant='h5'>\n          S'enregistrer\n        </Typography>\n        <form\n          className={classes.form}\n          noValidate\n          onSubmit={handleSubmit(submitUserData)}\n        >\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                autoComplete='fname'\n                name='firstname'\n                variant='outlined'\n                required\n                fullWidth\n                id='firstname'\n                label='Prénom'\n                autoFocus\n                inputRef={register}\n                error={!!errors.firstname}\n                helperText={errors.firstname && 'Un prénom est obligatoire'}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant='outlined'\n                required\n                fullWidth\n                id='lastname'\n                label='Nom'\n                name='lastname'\n                autoComplete='lname'\n                inputRef={register}\n                helperText={errors.lastname && 'Un nom est obligatoire'}\n                error={!!errors.lastname}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Controller\n                render={(props) => (\n                  <PhoneInput\n                    regions={['europe', 'africa']}\n                    masks={{\n                      fr: '. .. .. .. ..',\n                      sn: '.. ... ....',\n                      cg: '... .. ..',\n                    }}\n                    isValid={(v) => v.length > 5}\n                    placeholder='Numéro de téléphone'\n                    inputRef={register}\n                    inputStyle={{\n                      width: '100%',\n                      height: '56px',\n                      fontSize: '15px',\n                      paddingLeft: '60px',\n                      borderRadius: '5px',\n                    }}\n                    inputProps={{\n                      name: 'phone_number',\n                      required: true,\n                    }}\n                    id='phone_number'\n                    specialLabel='Telephone'\n                    name='phone_number'\n                    autoComplete='phone_number'\n                    onChange={(value) => props.onChange(value)}\n                  />\n                )}\n                defaultValue=''\n                name='phone_number'\n                control={control}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant='outlined'\n                required\n                fullWidth\n                id='email'\n                label='Adresse e-mail'\n                name='email'\n                autoComplete='email'\n                inputRef={register}\n                error={!!errors.email}\n                helperText={errors.email && 'Adresse email invalide'}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant='outlined'\n                required\n                fullWidth\n                name='password'\n                label='Mot de passe'\n                type='password'\n                id='password'\n                autoComplete='current-password'\n                inputRef={register}\n                error={!!errors.password}\n                helperText={\n                  errors.password &&\n                  \"Votre mot de passe doit être d'au moins 6 caractères et doit contenir un chiffre, un caractère majuscule, un caractère minuscule et un caractère spécial\"\n                }\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant='outlined'\n                required\n                fullWidth\n                name='password_confirmation'\n                label='Confirmation du mot de passe'\n                type='password'\n                id='password_confirmation'\n                autoComplete='current-password'\n                inputRef={register}\n                error={!!errors.password_confirmation}\n                helperText={\n                  errors.password_confirmation &&\n                  'Le mot de passe et la confirmation ne sont pas identiques'\n                }\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type='submit'\n            fullWidth\n            variant='contained'\n            color='primary'\n            className={classes.submit}\n          >\n            S'enregistrer\n          </Button>\n\n          <Grid container justify='flex-end'>\n            <div className='MuiGrid-container-signUp'>\n              <Grid item>\n                <Link href='/signIn' variant='body2'>\n                  Vous avez déja un compte ? Connectez-vous !\n                </Link>\n              </Grid>\n            </div>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n};\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}