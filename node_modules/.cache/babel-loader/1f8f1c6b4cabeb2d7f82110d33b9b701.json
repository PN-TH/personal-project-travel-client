{"ast":null,"code":"var _jsxFileName = \"/home/thomas/Project/React/react-website-v1/src/components/pages/Profile.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { useHistory } from 'react-router';\nimport { useToasts } from 'react-toast-notifications';\nimport API from '../../services/API';\nimport ArticleContext from '../../_contexts/ArticleContextProvider';\nimport { LoginContext } from '../../_contexts/LoginContextProvider';\nexport default function Profile() {\n  const history = useHistory();\n  const {\n    addToast\n  } = useToasts();\n  const [fetchedUser, setFetchedUser] = useState([]);\n  const {\n    userLogged,\n    setUserLogged\n  } = useContext(LoginContext);\n\n  const logout = async () => {\n    try {\n      await API.get('auth/logout');\n      addToast('logged out successfully', {\n        appearance: 'success',\n        autoDismiss: true\n      });\n      history.push('/login');\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  useEffect(() => {\n    API.get('/me').then(res => {\n      setUserLogged(res.data);\n      setFetchedUser(res.data);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, \"Profile Page\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \"Logout\"));\n}","map":{"version":3,"sources":["/home/thomas/Project/React/react-website-v1/src/components/pages/Profile.js"],"names":["React","useContext","useEffect","useState","useQuery","useHistory","useToasts","API","ArticleContext","LoginContext","Profile","history","addToast","fetchedUser","setFetchedUser","userLogged","setUserLogged","logout","get","appearance","autoDismiss","push","err","console","error","then","res","data"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAOC,cAAP,MAA2B,wCAA3B;AACA,SAASC,YAAT,QAA6B,sCAA7B;AAEA,eAAe,SAASC,OAAT,GAAmB;AAChC,QAAMC,OAAO,GAAGN,UAAU,EAA1B;AACA,QAAM;AAAEO,IAAAA;AAAF,MAAeN,SAAS,EAA9B;AACA,QAAM,CAACO,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM;AAAEY,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAgCf,UAAU,CAACQ,YAAD,CAAhD;;AAEA,QAAMQ,MAAM,GAAG,YAAY;AACzB,QAAI;AACF,YAAMV,GAAG,CAACW,GAAJ,CAAQ,aAAR,CAAN;AACAN,MAAAA,QAAQ,CAAC,yBAAD,EAA4B;AAClCO,QAAAA,UAAU,EAAE,SADsB;AAElCC,QAAAA,WAAW,EAAE;AAFqB,OAA5B,CAAR;AAIAT,MAAAA,OAAO,CAACU,IAAR,CAAa,QAAb;AACD,KAPD,CAOE,OAAOC,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,GAXD;;AAaApB,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,GAAG,CAACW,GAAJ,CAAQ,KAAR,EAAeO,IAAf,CAAqBC,GAAD,IAAS;AAC3BV,MAAAA,aAAa,CAACU,GAAG,CAACC,IAAL,CAAb;AACAb,MAAAA,cAAc,CAACY,GAAG,CAACC,IAAL,CAAd;AACD,KAHD;AAID,GALQ,EAKN,EALM,CAAT;AAOA,sBACE,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAEV,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,CADF;AAQD","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { useHistory } from 'react-router';\nimport { useToasts } from 'react-toast-notifications';\nimport API from '../../services/API';\nimport ArticleContext from '../../_contexts/ArticleContextProvider';\nimport { LoginContext } from '../../_contexts/LoginContextProvider';\n\nexport default function Profile() {\n  const history = useHistory();\n  const { addToast } = useToasts();\n  const [fetchedUser, setFetchedUser] = useState([]);\n  const { userLogged, setUserLogged } = useContext(LoginContext);\n\n  const logout = async () => {\n    try {\n      await API.get('auth/logout');\n      addToast('logged out successfully', {\n        appearance: 'success',\n        autoDismiss: true,\n      });\n      history.push('/login');\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  useEffect(() => {\n    API.get('/me').then((res) => {\n      setUserLogged(res.data);\n      setFetchedUser(res.data);\n    });\n  }, []);\n\n  return (\n    <>\n      <h1>Profile Page</h1>\n      <button type='button' onClick={logout}>\n        Logout\n      </button>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}