{"ast":null,"code":"var _jsxFileName = \"/home/thomas/Project/React/react-website-v1/src/components/pages/Login.js\";\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory } from 'react-router';\nimport { useToasts } from 'react-toast-notifications';\nimport queryString from 'query-string';\nimport API from '../../services/API';\nexport default function Login() {\n  const {\n    register,\n    handleSubmit\n  } = useForm();\n  const {\n    redirectPath\n  } = queryString.parse(window.location.search);\n  const history = useHistory();\n  const {\n    addToast\n  } = useToasts();\n\n  const onSubmit = async data => {\n    try {\n      await API.post('auth/login', data);\n      addToast('logged in successfully', {\n        appearance: 'success',\n        autoDismiss: true\n      });\n      console.log(redirectPath);\n\n      if (redirectPath) {\n        history.push(redirectPath);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, \"Login Page\"), redirectPath && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, \"You were redirected here because your session is not valid. Maybe it has expired since the last time you visited this page ? Please log in again using the form below\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, 'Email : ', /*#__PURE__*/React.createElement(\"input\", {\n    ref: register,\n    name: \"email\",\n    id: \"email\",\n    type: \"email\",\n    autoComplete: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, 'Password : ', /*#__PURE__*/React.createElement(\"input\", {\n    ref: register,\n    name: \"password\",\n    type: \"password\",\n    id: \"password\",\n    autoComplete: \"current-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"stayConnected\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: register,\n    name: \"stayConnected\",\n    id: \"stayConnected\",\n    type: \"checkbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }), \"Stay connected ?\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Log in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/home/thomas/Project/React/react-website-v1/src/components/pages/Login.js"],"names":["React","useForm","useHistory","useToasts","queryString","API","Login","register","handleSubmit","redirectPath","parse","window","location","search","history","addToast","onSubmit","data","post","appearance","autoDismiss","console","log","push","err","error"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AAEA,eAAe,SAASC,KAAT,GAAiB;AAC9B,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA6BP,OAAO,EAA1C;AACA,QAAM;AAAEQ,IAAAA;AAAF,MAAmBL,WAAW,CAACM,KAAZ,CAAkBC,MAAM,CAACC,QAAP,CAAgBC,MAAlC,CAAzB;AACA,QAAMC,OAAO,GAAGZ,UAAU,EAA1B;AACA,QAAM;AAAEa,IAAAA;AAAF,MAAeZ,SAAS,EAA9B;;AAEA,QAAMa,QAAQ,GAAG,MAAOC,IAAP,IAAgB;AAC/B,QAAI;AACF,YAAMZ,GAAG,CAACa,IAAJ,CAAS,YAAT,EAAuBD,IAAvB,CAAN;AACAF,MAAAA,QAAQ,CAAC,wBAAD,EAA2B;AACjCI,QAAAA,UAAU,EAAE,SADqB;AAEjCC,QAAAA,WAAW,EAAE;AAFoB,OAA3B,CAAR;AAIAC,MAAAA,OAAO,CAACC,GAAR,CAAYb,YAAZ;;AACA,UAAIA,YAAJ,EAAkB;AAChBK,QAAAA,OAAO,CAACS,IAAR,CAAad,YAAb;AACD;AACF,KAVD,CAUE,OAAOe,GAAP,EAAY;AACZH,MAAAA,OAAO,CAACI,KAAR,CAAcD,GAAd;AACD;AACF,GAdD;;AAgBA,sBACE,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEGf,YAAY,iBACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6KAHJ,eASE;AAAM,IAAA,QAAQ,EAAED,YAAY,CAACQ,QAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,UADH,eAEE;AACE,IAAA,GAAG,EAAET,QADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,EAAE,EAAC,OAHL;AAIE,IAAA,IAAI,EAAC,OAJP;AAKE,IAAA,YAAY,EAAC,UALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAWE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,aADH,eAEE;AACE,IAAA,GAAG,EAAEA,QADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,IAAI,EAAC,UAHP;AAIE,IAAA,EAAE,EAAC,UAJL;AAKE,IAAA,YAAY,EAAC,kBALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAXF,eAqBE;AAAO,IAAA,OAAO,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAEA,QADP;AAEE,IAAA,IAAI,EAAC,eAFP;AAGE,IAAA,EAAE,EAAC,eAHL;AAIE,IAAA,IAAI,EAAC,UAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,qBArBF,eA8BE;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9BF,CATF,CADF;AA4CD","sourcesContent":["import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory } from 'react-router';\nimport { useToasts } from 'react-toast-notifications';\nimport queryString from 'query-string';\nimport API from '../../services/API';\n\nexport default function Login() {\n  const { register, handleSubmit } = useForm();\n  const { redirectPath } = queryString.parse(window.location.search);\n  const history = useHistory();\n  const { addToast } = useToasts();\n\n  const onSubmit = async (data) => {\n    try {\n      await API.post('auth/login', data);\n      addToast('logged in successfully', {\n        appearance: 'success',\n        autoDismiss: true,\n      });\n      console.log(redirectPath);\n      if (redirectPath) {\n        history.push(redirectPath);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <>\n      <h1>Login Page</h1>\n      {redirectPath && (\n        <p>\n          You were redirected here because your session is not valid. Maybe it\n          has expired since the last time you visited this page ? Please log in\n          again using the form below\n        </p>\n      )}\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <label htmlFor='email'>\n          {'Email : '}\n          <input\n            ref={register}\n            name='email'\n            id='email'\n            type='email'\n            autoComplete='username'\n          />\n        </label>\n        <label htmlFor='password'>\n          {'Password : '}\n          <input\n            ref={register}\n            name='password'\n            type='password'\n            id='password'\n            autoComplete='current-password'\n          />\n        </label>\n        <label htmlFor='stayConnected'>\n          <input\n            ref={register}\n            name='stayConnected'\n            id='stayConnected'\n            type='checkbox'\n          />\n          Stay connected ?\n        </label>\n        <input type='submit' value='Log in' />\n      </form>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}