{"ast":null,"code":"var _jsxFileName = \"/home/thomas/Project/React/react-website-v1/src/components/pages/Profile.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { useHistory } from 'react-router';\nimport { useToasts } from 'react-toast-notifications';\nimport API from '../../services/API';\nimport ArticleContext from '../../_contexts/ArticleContextProvider';\nexport default function Profile() {\n  const history = useHistory();\n  const {\n    addToast\n  } = useToasts();\n  const {\n    userLogged,\n    setUserLogged\n  } = useContext(ArticleContext);\n  const [fetchedUser, setFetchedUser] = useState([]);\n  useEffect(() => {\n    API.get('/me').then(res => {\n      setUserLogged(res.data);\n      setFetchedUser(res.data);\n    });\n  }, []);\n\n  const logout = async () => {\n    try {\n      await API.get('auth/logout');\n      addToast('logged out successfully', {\n        appearance: 'success',\n        autoDismiss: true\n      });\n      history.push('/login');\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, \"Profile Page\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \"Logout\"));\n}","map":{"version":3,"sources":["/home/thomas/Project/React/react-website-v1/src/components/pages/Profile.js"],"names":["React","useContext","useEffect","useState","useQuery","useHistory","useToasts","API","ArticleContext","Profile","history","addToast","userLogged","setUserLogged","fetchedUser","setFetchedUser","get","then","res","data","logout","appearance","autoDismiss","push","err","console","error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,OAAOC,cAAP,MAA2B,wCAA3B;AAEA,eAAe,SAASC,OAAT,GAAmB;AAChC,QAAMC,OAAO,GAAGL,UAAU,EAA1B;AACA,QAAM;AAAEM,IAAAA;AAAF,MAAeL,SAAS,EAA9B;AAEA,QAAM;AAAEM,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAgCZ,UAAU,CAACO,cAAD,CAAhD;AACA,QAAM,CAACM,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC,EAAD,CAA9C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,GAAG,CAACS,GAAJ,CAAQ,KAAR,EAAeC,IAAf,CAAqBC,GAAD,IAAS;AAC3BL,MAAAA,aAAa,CAACK,GAAG,CAACC,IAAL,CAAb;AACAJ,MAAAA,cAAc,CAACG,GAAG,CAACC,IAAL,CAAd;AACD,KAHD;AAID,GALQ,EAKN,EALM,CAAT;;AAOA,QAAMC,MAAM,GAAG,YAAY;AACzB,QAAI;AACF,YAAMb,GAAG,CAACS,GAAJ,CAAQ,aAAR,CAAN;AACAL,MAAAA,QAAQ,CAAC,yBAAD,EAA4B;AAClCU,QAAAA,UAAU,EAAE,SADsB;AAElCC,QAAAA,WAAW,EAAE;AAFqB,OAA5B,CAAR;AAIAZ,MAAAA,OAAO,CAACa,IAAR,CAAa,QAAb;AACD,KAPD,CAOE,OAAOC,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD;AACF,GAXD;;AAaA,sBACE,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,OAAO,EAAEJ,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,CADF;AAQD","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { useHistory } from 'react-router';\nimport { useToasts } from 'react-toast-notifications';\nimport API from '../../services/API';\nimport ArticleContext from '../../_contexts/ArticleContextProvider';\n\nexport default function Profile() {\n  const history = useHistory();\n  const { addToast } = useToasts();\n\n  const { userLogged, setUserLogged } = useContext(ArticleContext);\n  const [fetchedUser, setFetchedUser] = useState([]);\n\n  useEffect(() => {\n    API.get('/me').then((res) => {\n      setUserLogged(res.data);\n      setFetchedUser(res.data);\n    });\n  }, []);\n\n  const logout = async () => {\n    try {\n      await API.get('auth/logout');\n      addToast('logged out successfully', {\n        appearance: 'success',\n        autoDismiss: true,\n      });\n      history.push('/login');\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <>\n      <h1>Profile Page</h1>\n      <button type='button' onClick={logout}>\n        Logout\n      </button>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}